/* Styles specifically for the Tenets page */

/* Base and Resets (Similar to threshold.style.css, consider a shared base CSS) */
:root {
    --text-primary: #ccc;
    --text-secondary: #aaa;
    --text-muted: #888;
    --text-locked: #666;
    --text-active-link: #dde; /* Slightly brighter for active link */
    --accent-color: #aae;
    --accent-hover: #ddf;
    --link-tenet-color: #bbc; /* Specific color for tenet links */
    --link-tenet-hover-color: #dde;
    --background-primary: #0a0a0a;
    --background-secondary: rgba(255, 255, 255, 0.02);
    --background-header: rgba(0, 0, 0, 0.15); /* Darker header bg */
    --border-color: rgba(100, 100, 100, 0.1);
    --border-subtle: rgba(100, 100, 100, 0.15);
    --border-strong: rgba(100, 100, 100, 0.3);
    --symbol-stroke: #aaa;
    --symbol-stroke-muted: #555;
    --symbol-shadow: rgba(180, 180, 180, 0.2);
    --tooltip-bg: rgba(0, 0, 0, 0.85);
    --tooltip-text: #eee;
    --error-color: #ffaaaa;
    --success-color: #aaffaa;

    /* Resonance Interaction specific */
    --resonance-window-bg: rgba(10, 10, 15, 0.5);
    --resonance-window-border: rgba(100, 100, 120, 0.3);
    --slider-track-bg: rgba(255, 255, 255, 0.05);
    --slider-thumb-bg: #bbb;
    --slider-thumb-hover-bg: #ddd;
    --slider-thumb-active-bg: #fff;
    --proximity-indicator-bg: hsl(0, 80%, 50%); /* Start red */
    --proximity-indicator-shadow: 0 0 5px var(--proximity-indicator-bg);

    /* Pattern Exercise specific */
    --pattern-bg: rgba(10, 10, 15, 0.4);
    --pattern-border: rgba(100, 100, 120, 0.2);
    --pattern-node-bg: rgba(80, 80, 100, 0.2);
    --pattern-node-border: rgba(120, 120, 150, 0.4);
    --pattern-node-hover-bg: rgba(100, 100, 130, 0.3); /* Add hover state */
    --pattern-node-active-bg: rgba(180, 180, 220, 0.9);
    --pattern-node-active-shadow: 0 0 10px rgba(200, 200, 255, 0.6);
    --pattern-node-sequence-bg: rgba(150, 150, 200, 0.6);
    --pattern-node-sequence-shadow: 0 0 8px rgba(180, 180, 230, 0.4);
    --pattern-node-error-bg: rgba(200, 80, 80, 0.7);
    --pattern-node-error-shadow: 0 0 10px rgba(255, 100, 100, 0.5);
    --pattern-button-bg: rgba(100, 100, 120, 0.3);
    --pattern-button-hover-bg: rgba(120, 120, 150, 0.5);
    --pattern-button-text: #ccc;
    --pattern-feedback-color: #aaa;
    --pattern-error-color: var(--error-color); /* Use global error color */
    --pattern-success-color: var(--success-color); /* Add success color */

    /* Admin Panel Specific */
    --admin-input-bg: rgba(0, 0, 0, 0.3);
    --admin-input-border: rgba(100, 100, 120, 0.5);
    --admin-input-focus-border: var(--accent-color);
    --admin-button-bg: rgba(100, 100, 120, 0.3);
    --admin-button-hover-bg: rgba(120, 120, 150, 0.5);
    --admin-button-text: #ccc;
    --admin-logout-hover-bg: rgba(180, 80, 80, 0.4);
    --admin-logout-hover-icon: #ffaaaa;
    --admin-table-header-bg: rgba(255, 255, 255, 0.04);
    --admin-table-border: rgba(100, 100, 120, 0.2);
    --admin-table-row-hover-bg: rgba(255, 255, 255, 0.03);

    /* Archives Specific */
    --archive-book-bg: rgba(255, 255, 255, 0.015);
    --archive-book-border: rgba(100, 100, 120, 0.15);
    --archive-book-hover-bg: rgba(255, 255, 255, 0.03);
    --archive-book-open-bg: rgba(255, 255, 255, 0.025);
    --archive-book-title-color: #bbb;
    --archive-book-title-hover-color: #ddd;
    --archive-book-icon-color: #888;
    --archive-book-content-border: rgba(100, 100, 120, 0.2);
}

body {
    margin: 0;
    padding: 0;
    min-height: 100vh;
    width: 100vw;
    background-color: var(--background-primary);
    overflow-x: hidden;
    overflow-y: auto; /* Allow scrolling */
    display: flex;
    justify-content: center;
    align-items: flex-start; /* Align content to top */
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    color: var(--text-primary);
    line-height: 1.7; /* Slightly increased line-height for readability */
}

#void-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background:
        linear-gradient(rgba(25, 25, 25, 0.1) 1px, transparent 1px), /* Slightly denser grid maybe */
        linear-gradient(90deg, rgba(25, 25, 25, 0.1) 1px, transparent 1px),
        radial-gradient(ellipse at center, rgba(55, 55, 55, 0.08) 0%, rgba(10, 10, 10, 0) 75%); /* Fainter radial */
    background-size: 40px 40px, 40px 40px, auto;
    opacity: 0.35; /* Slightly more visible maybe */
    animation: slowDrift 70s linear infinite alternate;
    pointer-events: none;
    z-index: -1;
}

@keyframes slowDrift {
    0% { transform: translate(0, 0) scale(1); background-position: 0 0, 0 0, center; }
    100% { transform: translate(-7px, 7px) scale(1.03); background-position: -15px 15px, 15px -15px, center; }
}

#tenets-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    width: 100%;
    max-width: 750px; /* Slightly wider for text content */
    padding: 20px 20px 60px; /* Less top padding as header is distinct */
    box-sizing: border-box;
    opacity: 0;
    animation: fadeInContent 1s ease-in 0.1s forwards;
}

@keyframes fadeInContent {
    to { opacity: 1; }
}

#tenets-header {
    width: 100%;
    background-color: var(--background-header);
    border-bottom: 1px solid var(--border-subtle);
    padding: 10px 20px;
    box-sizing: border-box;
    margin-bottom: 40px; /* Space between header and main content */
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap; /* Allow wrapping on small screens */
    gap: 15px;
}

.page-tree {
    flex-grow: 1; /* Allow it to take available space */
}
.page-tree ul {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-wrap: wrap;
    gap: 10px 20px; /* Vertical and horizontal gap */
}

.page-tree li {
    position: relative; /* For tooltip positioning */
}

.page-tree-link {
    color: var(--text-muted);
    text-decoration: none;
    font-size: 0.9em;
    display: flex;
    align-items: center;
    gap: 5px;
    transition: color 0.2s ease;
    cursor: pointer; /* Default cursor to pointer for all initially */
}
.page-tree-link.active { /* Style for the CURRENT page link */
    color: var(--text-active-link);
    font-weight: 500;
    cursor: default; /* Can't click the link to the current page */
}
.page-tree-link:not(.locked):not(.active):hover { /* Hover for accessible, non-current links */
    color: var(--accent-hover);
}

.page-tree-link.locked {
    color: var(--text-locked);
    cursor: not-allowed;
}
.page-tree-link.locked:hover {
     color: var(--text-locked); /* Prevent hover color change on locked links */
     /* Ensure tooltip still shows on hover even if color doesn't change */
     &::after {
        opacity: 1;
        visibility: visible;
     }
}

.page-tree-icon {
    width: 1em; /* Size relative to font */
    height: 1em;
    stroke-width: 1.5; /* Adjust icon stroke */
}
.page-tree-icon.locked {
    stroke: var(--text-locked);
}

.page-tree-link[data-tooltip]::after {
    content: attr(data-tooltip);
    position: absolute;
    left: 50%;
    transform: translateX(-50%);
    bottom: 125%; /* Position above the link */
    background-color: var(--tooltip-bg);
    color: var(--tooltip-text);
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 0.85em;
    white-space: nowrap;
    z-index: 10;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.2s ease, visibility 0.2s ease;
    pointer-events: none;
}

.page-tree-link[data-tooltip]:hover::after {
    opacity: 1;
    visibility: visible;
}

.user-status {
    font-size: 0.9em;
    color: var(--text-secondary);
    white-space: nowrap; /* Prevent wrapping */
    text-align: right;
    display: flex; /* Align logout button */
    align-items: center;
    gap: 15px; /* Gap between text and button */
}
#user-identifier { color: var(--text-primary); }
#user-rank { color: var(--text-muted); font-style: italic;}

#tenets-main {
    width: 100%;
}

.tenets-title {
    font-size: 2em; /* Larger title */
    font-weight: 300; /* Lighter weight for elegance */
    text-align: center;
    color: var(--text-primary);
    margin-top: 0;
    margin-bottom: 15px;
    letter-spacing: 1px; /* Slight letter spacing */
}

.title-rule {
    border: none;
    height: 1px;
    background-color: var(--border-strong);
    margin-bottom: 40px;
}

.tenet {
    margin-bottom: 40px;
}

.tenet h2 {
    font-size: 1.4em;
    font-weight: 500;
    color: var(--text-secondary); /* Default color */
    margin-top: 0;
    margin-bottom: 10px;
}

.tenet-link {
    color: var(--link-tenet-color);
    text-decoration: none;
    border-bottom: 1px dotted transparent; /* Subtle underline indication */
    transition: color 0.2s ease, border-color 0.2s ease;
}

.tenet-link:hover,
.tenet-link:focus {
    color: var(--link-tenet-hover-color);
    border-bottom-color: var(--link-tenet-hover-color);
    outline: none;
}

.tenet p:first-of-type { /* Style the introductory sentence differently */
    font-style: italic;
    color: var(--text-primary);
    margin-bottom: 15px;
    font-size: 1.1em;
}

.tenet p {
    color: var(--text-secondary);
    margin-bottom: 1em;
    text-align: justify; /* Justify text for a cleaner look */
}

.tenet-separator {
    border: none;
    height: 1px;
    background: linear-gradient(to right, transparent, var(--border-color), transparent); /* Fading separator */
    margin: 50px 0;
}

.highlight-resonance, .highlight-rank, .highlight-seek, .highlight-contribute {
    font-weight: bold;
    color: var(--accent-color);
    font-style: normal;
}

.tenet-navigation {
    margin-top: 40px;
    display: flex;
    justify-content: space-between;
    font-size: 0.9em;
}
.tenet-navigation a {
    color: var(--text-secondary);
    text-decoration: none;
    padding: 5px 10px;
    border: 1px solid transparent;
    border-radius: 4px;
    transition: color 0.2s ease, background-color 0.2s ease, border-color 0.2s ease;
}
.tenet-navigation a:hover {
    color: var(--accent-hover);
    background-color: rgba(255, 255, 255, 0.03);
    border-color: var(--border-subtle);
}

.section-heading--subtle {
    font-size: 1.1em;
    font-weight: 400;
    color: var(--text-muted);
    text-align: center;
    margin-top: 40px;
    margin-bottom: 10px;
    letter-spacing: 0.5px;
}

.instruction-text {
    font-size: 0.9em;
    color: var(--text-secondary);
    text-align: center;
    margin-bottom: 20px;
    font-style: italic;
}

.instruction-text--subtle {
    font-size: 0.8em;
    color: var(--text-muted);
    margin-top: 15px;
}

.resonance-interaction {
    margin-top: 30px;
    padding: 20px;
    background-color: var(--resonance-window-bg);
    border: 1px solid var(--resonance-window-border);
    border-radius: 5px;
}

#resonance-window {
    position: relative;
    margin-bottom: 20px;
}

#wave-canvas {
    display: block;
    background-color: rgba(0,0,5,0.3);
}

.proximity-indicator-container {
    position: absolute;
    top: 10px;
    right: 10px;
    width: 20px; /* Increased size */
    height: 20px; /* Increased size */
}

#proximity-indicator {
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: var(--proximity-indicator-bg);
    box-shadow: var(--proximity-indicator-shadow);
    transition: background-color 0.3s ease, box-shadow 0.3s ease;
}

.slider-controls {
    display: flex;
    justify-content: space-around;
    gap: 20px;
    flex-wrap: wrap;
}

.slider-group {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 8px;
    flex: 1;
    min-width: 120px;
}

.slider-group label {
    font-size: 0.85em;
    color: var(--text-secondary);
}

.slider-group input[type="range"] {
    width: 100%;
    cursor: pointer;
    appearance: none;
    height: 5px;
    background: var(--slider-track-bg);
    border-radius: 5px;
    outline: none;
}

.slider-group input[type="range"]::-webkit-slider-thumb {
    appearance: none;
    width: 16px;
    height: 16px;
    background: var(--slider-thumb-bg);
    border-radius: 50%;
    cursor: pointer;
    transition: background-color 0.2s ease;
}
.slider-group input[type="range"]::-moz-range-thumb {
    width: 16px;
    height: 16px;
    background: var(--slider-thumb-bg);
    border-radius: 50%;
    cursor: pointer;
    border: none;
    transition: background-color 0.2s ease;
}
.slider-group input[type="range"]::-webkit-slider-thumb:hover { background: var(--slider-thumb-hover-bg); }
.slider-group input[type="range"]::-moz-range-thumb:hover { background: var(--slider-thumb-hover-bg); }
.slider-group input[type="range"]::-webkit-slider-thumb:active { background: var(--slider-thumb-active-bg); }
.slider-group input[type="range"]::-moz-range-thumb:active { background: var(--slider-thumb-active-bg); }

.slider-value {
    font-size: 0.8em;
    color: var(--text-muted);
    min-width: 2em; /* Ensure space */
    text-align: center;
}

.resonance-interaction.key-active {
    outline: 1px dashed rgba(180, 180, 220, 0.3);
    outline-offset: 3px;
}

.pattern-exercise {
    margin-top: 30px;
    padding: 20px;
    background-color: var(--pattern-bg);
    border: 1px solid var(--pattern-border);
    border-radius: 5px;
}

#pattern-matrix {
    display: grid;
    /* grid-template-columns are set by JS */
    gap: 15px;
    width: 100%;
    max-width: 240px; /* Limit width */
    margin: 20px auto;
    aspect-ratio: 1 / 1; /* Keep it square */
}

#pattern-matrix:not(.active) {
    filter: grayscale(30%) opacity(70%);
    cursor: default;
}
#pattern-matrix.active {
    filter: none;
    cursor: pointer;
}

.pattern-node {
    background-color: var(--pattern-node-bg);
    border: 1px solid var(--pattern-node-border);
    border-radius: 5px;
    transition: background-color 0.1s ease-out, box-shadow 0.1s ease-out, transform 0.1s ease-out;
    aspect-ratio: 1 / 1; /* Ensure nodes are square */
    cursor: inherit; /* Inherit cursor from parent matrix */
    display: flex; /* For potential future content */
    justify-content: center;
    align-items: center;
}

#pattern-matrix.active .pattern-node:hover {
    background-color: var(--pattern-node-hover-bg);
    transform: scale(1.03);
}

.pattern-node.sequence-active { /* Style for when sequence is playing */
    background-color: var(--pattern-node-sequence-bg);
    box-shadow: var(--pattern-node-sequence-shadow);
    transform: scale(1.05);
    cursor: default; /* No clicking during sequence playback */
    /* Add pulse animation */
    animation: pattern-sequence-pulse 0.4s ease-out;
}
@keyframes pattern-sequence-pulse {
    0% { transform: scale(1.05); box-shadow: var(--pattern-node-sequence-shadow); }
    50% { transform: scale(1.1); box-shadow: 0 0 12px rgba(200, 200, 255, 0.6); }
    100% { transform: scale(1.05); box-shadow: var(--pattern-node-sequence-shadow); }
}

.pattern-node.user-active { /* Style for when user clicks */
    background-color: var(--pattern-node-active-bg);
    box-shadow: var(--pattern-node-active-shadow);
    transform: scale(1.05);
    /* Optional: Add brief feedback animation */
    animation: pattern-user-click 0.2s ease-out;
}
@keyframes pattern-user-click {
    0% { transform: scale(1.0); }
    50% { transform: scale(1.08); }
    100% { transform: scale(1.05); }
}

.pattern-node.error {
    background-color: var(--pattern-node-error-bg);
    box-shadow: var(--pattern-node-error-shadow);
    animation: pattern-error-shake 0.4s ease-in-out; /* Slightly longer shake */
}

@keyframes pattern-error-shake {
    0%, 100% { transform: translateX(0) scale(1.05); }
    20% { transform: translateX(-5px) scale(1.05); }
    40% { transform: translateX(5px) scale(1.05); }
    60% { transform: translateX(-3px) scale(1.05); }
    80% { transform: translateX(3px) scale(1.05); }
}

#pattern-controls {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 20px;
    flex-wrap: wrap;
}

.pattern-button {
    padding: 8px 15px;
    font-size: 0.9em;
    color: var(--pattern-button-text);
    background-color: var(--pattern-button-bg);
    border: 1px solid var(--pattern-node-border);
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.2s ease, opacity 0.2s ease; /* Add opacity transition */
}
.pattern-button:hover:not(:disabled) {
    background-color: var(--pattern-button-hover-bg);
}
.pattern-button:disabled {
    opacity: 0.5;
    cursor: not-allowed;
    background-color: var(--pattern-button-bg); /* Prevent hover effect when disabled */
}

.pattern-feedback {
    font-size: 0.9em;
    color: var(--pattern-feedback-color);
    min-height: 1.2em; /* Ensure space even when empty */
    min-width: 100px; /* Give it some minimum width */
    text-align: center;
    transition: color 0.3s ease;
}
#pattern-message.error {
    color: var(--pattern-error-color);
    font-weight: bold;
}
#pattern-message.success { /* Add success style */
    color: var(--pattern-success-color);
    font-weight: bold;
}